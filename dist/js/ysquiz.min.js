/*! ysquiz v1.0.2 | Yusuf Sezer <yusufsezer@mail.com> | MIT License | https://github.com/yusufsefasezer/ysQuiz.js */
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.ysQuiz=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(u){"use strict";var p={wrapper:".ysquiz",title:"ysQuiz",enumerator:!0},d=function(){var e={},t=!1,r=0,n=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++);r<n;r++){i=void 0;var i,s=arguments[r];for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t&&"[object Object]"===Object.prototype.toString.call(s[i])?e[i]=d(!0,e[i],s[i]):e[i]=s[i])}return e};return function(e,t){var i={},c=null,s=[],a={currentQuestion:0,finished:!1,numOfCorrect:0,numOfWrong:0,reset:function(){this.currentQuestion=0,this.finished=!1}},n=(i.init=function(e,t){if(!("querySelector"in document&&"querySelectorAll"in document&&"addEventListener"in u&&"classList"in document.createElement("div")))throw"ysQuiz: This browser does not support the required JavaScript methods and browser APIs.";if(i.destroy(),(c=d(p,t||{})).wrapper="string"==typeof c.wrapper?document.querySelector(c.wrapper):c.wrapper,!(c.wrapper instanceof HTMLElement))throw new TypeError("ysQuiz: Please select a valid quiz wrapper.");if(c.wrapper.classList.add("ysquiz"),Array.isArray(e))for(var r=0,n=e.length;r<n;r++)i.addQuestion(e[r].question,e[r].answers,e[r].correct);i.setup()},i.addQuestion=function(e,t,r){if(!Array.isArray(t))throw new TypeError("ysQuiz: Answers must be array.");s.push(new n(e,t,r))},i.setup=function(){var e;0!=s.length&&c&&(e='<div class="ysquiz-header"><h1>'+c.title+"</h1></div>",c.wrapper.innerHTML=e=e+'<div class="ysquiz-content"><div class="ysquiz-question"></div></div>'+'<div class="ysquiz-footer"><p class="ysquiz-message"></p></div>',0<s.length)&&s[a.currentQuestion].render(c.wrapper.querySelector(".ysquiz-question"))},i.destroy=function(){c&&(c.wrapper.innerHTML=null,c=null,s.length=0,a.reset())},function(e,t,r){this.question=e,this.answers=t,this.selected=[],this.type=Array.isArray(r)?"checkbox":"radio",this.correctIndexes=[],"radio"===this.type&&(r=[r]),this.addMultiple(r)}),l=(n.prototype.addMultiple=function(e){for(var t,r=0;r<e.length;r++){var n=e[r],i=(t=0,i=this.answers.length,Math.floor(Math.random()*(i-t+1))+t);this.correctIndexes.push(i),this.answers.splice(i,0,n)}},n.prototype.checkAnswer=function(){var n=this;return this.selected.some(function(e,t,r){return n.correctIndexes.includes(e)})},n.prototype.render=function(e){for(var t=this,r=(e.innerHTML=null,e.innerHTML+='<h3 class="ysquiz-question-title">'+(!0===c.enumerator?a.currentQuestion+1+". ":"")+" "+this.question+"</h3>",document.createDocumentFragment()),n=document.createElement("ul"),i="",s=0,o=this.answers.length;s<o;s++){var u=this.answers[s];i+='<li><label><input type="'+this.type+'" name="'+("question"+a.currentQuestion+1)+'" />'+u+"</label></li>"}n.innerHTML=i,r.appendChild(n);n=document.createElement("button");n.textContent="Next",n.addEventListener("click",function(){l(this,t)}),r.appendChild(n),e.appendChild(r)},function(e,t){var r,n;a.finished?(r='<div class="ysquiz-result">',r=(r=(r+="<h3>Result:</h3>")+'<p class="ysquiz-total-question">'+s.length+' question</p><p class="ysquiz-total-correct">'+a.numOfCorrect+" correct</p>")+'<p class="ysquiz-total-wrong">'+a.numOfWrong+" wrong</p></div>",c.wrapper.querySelector(".ysquiz-content").innerHTML=r):(r=c.wrapper.querySelectorAll("input"),n=c.wrapper.querySelector(".ysquiz-message"),t.selected=o(r),t.selected.length<1?n.textContent="Please select an answer!":(n.innerHTML=null,t.checkAnswer()?a.numOfCorrect++:a.numOfWrong++,a.currentQuestion++,s.length==a.currentQuestion?(e.textContent="Show Results",a.finished=!0):0<s.length&&a.currentQuestion<s.length&&s[a.currentQuestion].render(c.wrapper.querySelector(".ysquiz-question"))))}),o=function(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r].checked&&t.push(r);return t};return i.init(e,t),i}});