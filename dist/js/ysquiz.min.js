/*! ysquiz v1.0.0 | Yusuf Sezer <yusufsezer@mail.com> | MIT License | https://github.com/yusufsefasezer/ysQuiz.js */
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.ysQuiz=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(l){"use strict";var p={wrapper:".ysquiz",title:"ysQuiz",enumerator:!0},d=function(){var e={},t=!1,r=0,n=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++);r<n;r++){i=void 0;var i,s=arguments[r];for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t&&"[object Object]"===Object.prototype.toString.call(s[i])?e[i]=d(!0,e[i],s[i]):e[i]=s[i])}return e};return function(e,t){var i={},o=null,s=[],u={currentQuestion:0,finished:!1,numOfCorrect:0,numOfWrong:0,reset:function(){this.currentQuestion=0,this.finished=!1}},n=(i.init=function(e,t){if(!("querySelector"in document&&"addEventListener"in l&&"classList"in document.createElement("div")))throw"ysQuiz: This browser does not support the required JavaScript methods and browser APIs.";if(i.destroy(),(o=d(p,t||{})).wrapper="string"==typeof o.wrapper?document.querySelector(o.wrapper):o.wrapper,!(o.wrapper instanceof HTMLElement))throw new TypeError("ysQuiz: Please select a valid quiz wrapper.");if(o.wrapper.classList.add("ysquiz"),Array.isArray(e))for(var r=0,n=e.length;r<n;r++)i.addQuestion(e[r].question,e[r].answers,e[r].correct);i.setup()},i.addQuestion=function(e,t,r){if(!Array.isArray(t))throw new TypeError("ysQuiz: Answers must be array.");s.push(new n(e,t,r))},i.setup=function(){var e;0!=s.length&&o&&(e='<div class="ysquiz-header"><h1>'+o.title+"</h1></div>",o.wrapper.innerHTML=e=e+'<div class="ysquiz-content"><div class="ysquiz-question"></div></div>'+'<div class="ysquiz-footer"><p class="ysquiz-message"></p></div>',0<s.length)&&s[u.currentQuestion].render(o.wrapper.querySelector(".ysquiz-question"))},i.destroy=function(){o&&(o.wrapper.innerHTML=null,o=null,s.length=0,u.reset())},function(e,t,r){var n;this.question=e,this.answers=t,this.selected=-1,this.correctIndex=(e=0,n=t.length,Math.floor(Math.random()*(n-e+1))+e),t.splice(this.correctIndex,0,r)}),c=(n.prototype.checkAnswer=function(){return this.selected==this.correctIndex},n.prototype.render=function(e){for(var t=this,r=(e.innerHTML=null,e.innerHTML+='<h3 class="ysquiz-question-title">'+(!0===o.enumerator?u.currentQuestion+1+". ":"")+" "+this.question+"</h3>",document.createElement("ul")),n=0,i=this.answers.length;n<i;n++)r.innerHTML+='<li><label><input type="radio" name=question'+(u.currentQuestion+1)+" />"+this.answers[n]+"</label></li>";var s=document.createElement("button");s.textContent="Next",s.addEventListener("click",function(){c(this,t)}),e.appendChild(r),e.appendChild(s)},function(e,t){var r,n;u.finished?(r='<div class="ysquiz-result">',r=(r=(r+="<h3>Result:</h3>")+'<p class="ysquiz-total-question">'+s.length+' question</p><p class="ysquiz-total-correct">'+u.numOfCorrect+" correct</p>")+'<p class="ysquiz-total-wrong">'+u.numOfWrong+" wrong</p></div>",o.wrapper.querySelector(".ysquiz-content").innerHTML=r):(r=o.wrapper.querySelectorAll("input[type=radio]"),n=o.wrapper.querySelector(".ysquiz-message"),t.selected=a(r),-1===t.selected?n.textContent="Please select a answer!":(n.innerHTML=null,t.checkAnswer()?u.numOfCorrect++:u.numOfWrong++,u.currentQuestion++,s.length==u.currentQuestion?(e.textContent="Show Results",u.finished=!0):0<s.length&&u.currentQuestion<s.length&&s[u.currentQuestion].render(o.wrapper.querySelector(".ysquiz-question"))))}),a=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t].checked)return t;return-1};return i.init(e,t),i}});